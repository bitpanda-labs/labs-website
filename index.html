---
layout: default
---
<section class="hero">
  <h1>EXPLORING THE FUTURE OF FINANCE</h1>
  <p>Bitpanda Labs: Bitpanda's innovation playground for internal innovation, tech experiments, and product prototypes.</p>
  <a href="#experiments" class="btn">See What We're Building</a>
</section>

<div class="content-container">
  <section id="experiments">
    <h2>Latest Experiments</h2>
    {% assign experiments_filtered = site.experiments | where_exp: "experiment", "experiment.date <= site.time" %}
    {% assign experiments_sorted = experiments_filtered | sort: 'date' | reverse %}
    {% if experiments_filtered.size > 0 %}
      <div class="carousel" aria-label="Latest experiments carousel" id="experiments-carousel">
        <div class="carousel-track" id="experiments-track">
        {% for experiment in experiments_sorted limit:5 %}
          <div class="carousel-item">
          {% assign default_img = '/assets/img/image.jpg' %}
          {% assign base_url = experiment.url | replace: 'index.html', '' | replace: '/index/', '/' | replace: 'index/', '' %}
          {% assign png_path = base_url | append: 'image.png' %}
          {% assign jpg_path = base_url | append: 'image.jpg' %}
          
          {% comment %} Default to JPG, fall back to PNG, then default {% endcomment %}
          {% assign card_image = jpg_path %}
          {% assign labels = experiment.labels | default: experiment.categories %}
          <article class="card post-card">
            <a class="card-link" href="{{ experiment.url | relative_url }}" aria-label="Open {{ experiment.title | escape }}"></a>
            <div class="card-image">
              <img src="{{ card_image | relative_url }}" alt="{{ experiment.title | escape }}" onerror="handleImageError(this, '{{ png_path | relative_url }}', '{{ default_img | relative_url }}')" />
            </div>
            <div class="card-body">
              <h3 class="card-title">{{ experiment.title | upcase }}</h3>
              <div class="card-meta">
                <div class="labels">
                  {% if labels %}
                    {% for label in labels %}
                      <span class="label">{{ label }}</span>
                    {% endfor %}
                  {% endif %}
                </div>
                <time class="date">{{ experiment.date | date: "%B %d, %Y" }}</time>
              </div>
              <p class="card-description">{{ experiment.excerpt | strip_html }}</p>
              <div class="card-actions">
                {% assign cta_text = experiment.action | default: 'Learn more' %}
                <a href="{{ experiment.url | relative_url }}" class="btn btn-outline">{{ cta_text }}</a>
              </div>
            </div>
          </article>
          </div>
        {% endfor %}
        </div>
        <div class="carousel-dots" id="experiments-dots">
          {% for experiment in experiments_sorted limit:5 %}
            <button class="carousel-dot{% if forloop.first %} active{% endif %}" type="button" aria-label="Go to slide {{ forloop.index }}" data-index="{{ forloop.index0 }}" onclick="if(window.innerWidth <= 768) { const track = document.getElementById('experiments-track'); track.scrollLeft = {{ forloop.index0 }} * track.offsetWidth; document.querySelectorAll('.carousel-dot').forEach(d => d.classList.remove('active')); this.classList.add('active'); }"></button>
          {% endfor %}
        </div>
      </div>
      {% if experiments_filtered.size > 5 %}
        <div class="see-all">
          <a href="{{ '/experiments/' | relative_url }}" class="btn btn-outline">See all experiments</a>
        </div>
      {% endif %}
    {% else %}
      <div class="card coming-soon">
        <h3>Exciting Experiments Coming Soon</h3>
        <p>Our innovation team is cooking up some groundbreaking experiments. Stay tuned for cutting-edge fintech.</p>
      </div>
    {% endif %}
  </section>

  <section id="about">
    <h2>About Bitpanda Labs</h2>
    <p>Bitpanda's innovation playground where bold ideas, rapid AI experiments, and future-facing tech get the freedom to move fast.</p>
    <p>We combine experimentation, user feedback, and fast prototyping to shape the next generation of financial technology.</p>
    <a href="/experiments/2025_09_23_bitpanda_labs/index/" class="btn btn-outline">Learn More About Us</a>
  </section>
</div> 

<script>
  (function() {
    const carousel = document.getElementById('experiments-carousel');
    const track = document.getElementById('experiments-track');
    const dotsContainer = document.getElementById('experiments-dots');
    if (!carousel || !track || !dotsContainer) return;
    const dots = Array.from(dotsContainer.querySelectorAll('.carousel-dot'));
    const items = Array.from(track.querySelectorAll('.carousel-item'));
    const total = items.length;
    let pages = 1; // will be computed from layout
    let idx = 0;   // current page index (0..pages-1)
    let timerId;

    // If 3 items or fewer, do not rotate and hide dots (DISABLED for mobile)
    if (total <= 3 && window.innerWidth > 768) {
      dotsContainer.style.display = 'none';
      return;
    }

    function updateDots() {
      const activeDots = dots.slice(0, pages);
      dots.forEach((d, i) => {
        d.style.display = i < pages ? '' : 'none';
        d.classList.toggle('active', i === idx);
        d.setAttribute('aria-current', i === idx ? 'true' : 'false');
      });
    }

    function getMetrics() {
      const item = items[0];
      if (!item) return { visible: 1, pages: 1 };
      const style = getComputedStyle(track);
      const gap = parseInt(style.columnGap || style.gap || 0, 10) || 0;
      const itemWidth = item.getBoundingClientRect().width;
      const step = itemWidth + gap;
      const approxVisible = Math.max(1, Math.round((track.clientWidth + gap) / step));
      const computedPages = Math.max(1, total - approxVisible + 1);
      return { visible: approxVisible, pages: computedPages };
    }

    function syncPages() {
      const m = getMetrics();
      pages = m.pages;
      if (idx >= pages) idx = pages - 1;
      updateDots();
    }

    function scrollToIndex(newIdx) {
      syncPages();
      idx = (newIdx % pages + pages) % pages;
      const target = items[idx];
      if (!target) return;
      const x = target.offsetLeft;
      track.scrollTo({ left: x, behavior: 'smooth' });
      updateDots();
    }

    function startAuto() { stopAuto(); timerId = setInterval(() => scrollToIndex(idx + 1), 5000); }
    function stopAuto() { if (timerId) { clearInterval(timerId); timerId = null; } }

    // Dots navigation: scroll directly to the chosen slide
    dots.forEach((dot, targetIdx) => {
      dot.addEventListener('click', () => {
        stopAuto();
        scrollToIndex(targetIdx);
        startAuto();
      });
    });

    carousel.addEventListener('mouseenter', stopAuto);
    carousel.addEventListener('mouseleave', startAuto);

    syncPages();
    scrollToIndex(0);
    startAuto();
    // Keep alignment after resize
    window.addEventListener('resize', () => { syncPages(); scrollToIndex(idx); });

    // Force show dots on mobile and add auto-rotation
    if (window.innerWidth <= 768) {
      dotsContainer.style.display = 'flex';
      
      // Mobile auto-rotation - reuse the working dot click logic
      let mobileCurrentIndex = 0;
      let mobileAutoTimer;
      
      function mobileAutoRotate() {
        mobileCurrentIndex = (mobileCurrentIndex + 1) % 3; // We have 3 cards
        
        // Simulate clicking the next dot (reuse working logic)
        const mobileDots = document.querySelectorAll('.carousel-dot');
        if (mobileDots[mobileCurrentIndex]) {
          mobileDots[mobileCurrentIndex].click();
        }
      }
      
      function startMobileAuto() {
        if (mobileAutoTimer) clearInterval(mobileAutoTimer);
        mobileAutoTimer = setInterval(mobileAutoRotate, 5000); // 5 seconds
      }
      
      function stopMobileAuto() {
        if (mobileAutoTimer) {
          clearInterval(mobileAutoTimer);
          mobileAutoTimer = null;
        }
      }
      
      // Start auto-rotation after a delay
      setTimeout(startMobileAuto, 2000);
      
      // Update dots after touch/swipe ends
      function updateDotsAfterSwipe() {
        setTimeout(() => {
          const scrollLeft = track.scrollLeft;
          const cardWidth = track.offsetWidth;
          const currentIndex = Math.round(scrollLeft / cardWidth);
          
          // Update active dot
          const mobileDots = document.querySelectorAll('.carousel-dot');
          mobileDots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentIndex);
          });
          
          // Keep track of current index for auto-rotation
          mobileCurrentIndex = currentIndex;
        }, 200); // Wait for scroll to settle
      }

      // Pause on touch/interaction and update dots
      track.addEventListener('touchstart', stopMobileAuto);
      track.addEventListener('touchend', () => {
        updateDotsAfterSwipe(); // Update dots after swipe
        setTimeout(startMobileAuto, 3000);
      });
    }
    
    // Universal fallback - try to add touch event regardless of screen size
    track.addEventListener('touchend', function() {
      setTimeout(() => {
        const scrollLeft = track.scrollLeft;
        const cardWidth = track.offsetWidth;
        const currentIndex = Math.round(scrollLeft / cardWidth);
        
        const allDots = document.querySelectorAll('.carousel-dot');
        allDots.forEach((dot, index) => {
          dot.classList.toggle('active', index === currentIndex);
        });
      }, 300);
    });
  })();
</script>