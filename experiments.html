---
layout: default
title: All Experiments
permalink: /experiments/
---

<div class="content-container">
  <section>
    <h2>All Experiments</h2>
    {% assign experiments_filtered = site.experiments | where_exp: "experiment", "experiment.date <= site.time" %}
    {% assign experiments_sorted = experiments_filtered | sort: 'date' | reverse %}
    {% if experiments_filtered.size > 0 %}
      <div class="cards">
        {% for experiment in experiments_sorted %}
          {% assign default_img = '/assets/img/image.jpg' %}
          {% assign base_url = experiment.url | replace: 'index.html', '' | replace: '/index/', '/' | replace: 'index/', '' %}
          {% assign png_path = base_url | append: 'image.png' %}
          {% assign jpg_path = base_url | append: 'image.jpg' %}

          {% comment %} Default to JPG, fall back to PNG, then default {% endcomment %}
          {% assign card_image = jpg_path %}
          {% assign labels = experiment.labels | default: experiment.categories %}
          <article class="card post-card">
            <a class="card-link" href="{{ experiment.url | relative_url }}" aria-label="Open {{ experiment.title | escape }}"></a>
            <div class="card-image">
              <img src="{{ card_image | relative_url }}" alt="{{ experiment.title | escape }}" onerror="handleImageError(this, '{{ png_path | relative_url }}', '{{ default_img | relative_url }}')" />
            </div>
            <div class="card-body">
              <h3 class="card-title">{{ experiment.title | upcase }}</h3>
              <div class="card-meta">
                <div class="labels">
                  {% if labels %}
                    {% for label in labels %}
                      <span class="label">{{ label }}</span>
                    {% endfor %}
                  {% endif %}
                </div>
                <time class="date">{{ experiment.date | date: "%B %d, %Y" }}</time>
              </div>
              <p class="card-description">{{ experiment.excerpt | strip_html }}</p>
              <div class="card-actions">
                <a href="{{ experiment.url | relative_url }}" class="btn btn-outline">Learn more</a>
              </div>
            </div>
          </article>
        {% endfor %}
      </div>
    {% else %}
      <div class="card coming-soon">
        <h3>Exciting Experiments Coming Soon</h3>
        <p>Our innovation team is cooking up some groundbreaking experiments. Stay tuned for cutting-edge fintech.</p>
      </div>
    {% endif %}
  </section>
</div>


